<div class="all">
  <div id="all1">
    <h5>ðŸ“¬ In Progress</h5>

    <table [ngClass]="{ 'empty-table': isTasksEmpty('InProgress') }">

      <tr>
        <th>Task Name</th>
        <th>Origin Project</th>
        <th>Section Name</th>
        <th>
          Due Date
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="filter"
            viewBox="0 0 16 16"
            (click)="sortTasks()"
          >
            <path
              fill-rule="evenodd"
              d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5m-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5"
            />
          </svg>
        </th>
      </tr>
      <!-- zasto se klasa zove red?? -->
      <ng-container *ngFor="let task of tasks">
        <tr
          class="red"
          *ngIf="task.statusName=='InProgress'"
          [class.clicked]="clickedTask?.id === task.id"
          (click)="togglePopUp($event, task.id)"
        >
          <td class="name">
            {{ task.taskName }}
          </td>
          <td class="projectname">
            {{ task.project ? task.project.projectName : "No Project" }}
          </td>
          <td>{{task.sectionName? task.sectionName: "No section"}}</td>
          <td>{{ task.endDate | date }}</td>
        </tr>
      </ng-container>
    </table>
  </div>
</div>
<br />

<div class="all">
  <div id="all1">
    <h5>&#10024; In Review</h5>

    <table [ngClass]="{ 'empty-table': isTasksEmpty('InReview') }">

      <tr>
        <th>Task Name</th>
        <th>Origin Project</th>
        <th>Section Name</th>
        <th>
          Due Date
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="filter"
            viewBox="0 0 16 16"
            (click)="sortTasks()"
          >
            <path
              fill-rule="evenodd"
              d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5m-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5"
            />
          </svg>
        </th>
      </tr>
      <ng-container *ngFor="let task of tasks">
        <tr
        class="red"
        *ngIf="task.statusName=='InReview'"
        [class.clicked]="clickedTask?.id === task.id"
        (click)="togglePopUp($event, task.id)"
      >

          <td class="name">
            {{ task.taskName }}
          </td>

          <td>
            {{ task.project ? task.project.projectName : "No Project" }}
          </td>

          <td>{{task.sectionName? task.sectionName: "No section"}}</td>
          <td>{{ task.endDate | date }}</td>
        </tr>
      </ng-container>
    </table>
  </div>
</div>
<br />
<div class="all">
  <div id="all1">
    <h5>ðŸŽ‰ Completed</h5>

    <table [ngClass]="{ 'empty-table': isTasksEmpty('Completed') }">

      <tr>
        <th>Task Name</th>
        <th>Origin Project</th>
        <th>Section Name</th>
        <th>
          Due Date
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="filter"
            viewBox="0 0 16 16"
            (click)="sortTasks()"
          >
            <path
              fill-rule="evenodd"
              d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5m-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5"
            />
          </svg>
        </th>
      </tr>
      <ng-container *ngFor="let task of tasks">
        <tr
        class="red"
        *ngIf="task.statusName=='Completed'"
        [class.clicked]="clickedTask?.id === task.id"
        (click)="togglePopUp($event, task.id)"
      >
          <td class="name">
            {{ task.taskName }}
          </td>
          <td>{{ task.project ? task.project.projectName : 'No Project' }}</td>

          <td>{{task.sectionName? task.sectionName: "No section"}}</td>
          <td>{{ task.endDate | date }}</td>
        </tr>
      </ng-container>
    </table>
  </div>
</div>
<br />
<app-popup
  *ngIf="showPopUp"
  [task]="clickedTask"
  (backClicked)="closePopup()"
  (taskUpdated)="handleTaskUpdate($event)"
  [@popFromSide]="showPopUp ? 'popFromSide' : ''"
></app-popup>
